/* =========================================================
   Paleta y Variables de Tema (Azul Institucional)
   - Define los colores, tipografías y transiciones globales del sitio.
   ========================================================= */
:root {
  --primary-dark-blue: #002e60;     /* Azul principal institucional */
  --secondary-blue: #004d99;        /* Azul secundario para acentos */
  --background-dark: #252c50;       /* Fondo general oscuro */
  --surface-light: #f0f4f8;         /* Fondo claro para tarjetas */
  --text-light: #e0f2ff;            /* Texto sobre fondos oscuros */
  --text-dark: #333;                /* Texto sobre fondos claros */
  --border-subtle: #004d99;         /* Color de bordes suaves */
  --transition-speed: 0.3s;         /* Duración base de las animaciones */
  --header-h: 125px;                /* Altura del encabezado */
  --search-h: 0px;                  /* Espacio reservado para buscador (si aplica) */
}

/* =========================================================
   Base y Tipografía
   - Define el estilo general del cuerpo, tipografía y envoltorio principal.
   ========================================================= */
body {
  font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background-color: var(--background-dark);
  color: var(--text-light);
  line-height: 1.6;
}
.wrap { max-width: 1200px; margin: 0 auto; padding: 0 15px; }

/* Enlace de salto rápido (accesibilidad)
   - Permite ir directamente al contenido principal. */
.skip-link {
  position: absolute; top: -40px; left: 0;
  background: var(--secondary-blue); color: #fff;
  padding: 8px; z-index: 10000;
  transition: top .3s ease-in;
}
.skip-link:focus { top: 0; }

/* =========================================================
   Asides sticky (izq + der)
   - Fija los paneles laterales para mantenerlos visibles al hacer scroll.
   ========================================================= */
@media (min-width: 768px) {
  aside.d-md-block {
    position: sticky;
    top: calc(var(--header-h) + 20px);
    align-self: start;
    max-height: calc(100vh - (var(--header-h) + 40px));
    overflow: auto;
    scrollbar-gutter: stable;
    display: flex;
    flex-direction: column;
    gap: 20px;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* En móvil se ocultan los asides, reemplazados por el menú offcanvas */
@media (max-width: 767.98px) {
  aside.d-md-block { display: none !important; }
}

/* =========================================================
   Topbar / Header
   - Encabezado fijo del sitio con logotipo y buscador.
   ========================================================= */
.topbar {
  background: var(--primary-dark-blue);
  color: #fff;
  padding: 8px 15px;
  text-align: center;
  font-size: .85rem;
  border-bottom: 1px solid var(--secondary-blue);
}

/* Encabezado principal fijo con sombra y borde inferior */
header {
  position: fixed;
  top: 0; left: 0; width: 100%;
  z-index: 1000;
  background: var(--background-dark);
  color: #fff;
  border-bottom: 2px solid var(--secondary-blue);
  box-shadow: 0 2px 10px rgba(0,0,0,.3);
}

/* Crea un espacio invisible para que el contenido no quede debajo del header */
body::before {
  content: "";
  display: block;
  height: calc(var(--header-h) + 20px);
}

.brand-logo { width: 60px; height: auto; border-radius: 6px; transition: transform .3s ease; }
header h1 { color: #fff; font-size: 1.8rem; font-weight: 600; }
header .subtitle { color: #c0c0c0; font-size: .9rem; }

/* Ajusta el contenido principal para compensar la altura del header fijo */
main { padding-top: calc(var(--header-h) + 20px); }

/* Evita que los anclajes sean tapados por el header al hacer scroll */
#main h2[id], #main h3[id], article[id] { scroll-margin-top: calc(var(--header-h) + 20px); }

/* =========================================================
   Búsqueda
   - Estilos para el formulario y campo de búsqueda del header.
   ========================================================= */
.search { max-width: 480px; width: 100%; }
.search .input-group-text {
  background: var(--secondary-blue);
  color: #fff;
  border-color: var(--secondary-blue);
}
.search .form-control {
  background: #fff;
  color: var(--text-dark);
  border-color: var(--secondary-blue);
  box-shadow: none;
}

/* =========================================================
   Cards y Animaciones
   - Diseño de tarjetas y efecto de aparición al hacer scroll.
   ========================================================= */
.animate { opacity: 0; transform: translateY(20px); transition: opacity .8s ease-out, transform .6s ease-out; }
.animate.visible { opacity: 1; transform: translateY(0); }
@media (prefers-reduced-motion: reduce) {
  .animate { opacity: 1; transform: none; transition: none; }
}

.card {
  background: var(--surface-light);
  color: var(--text-dark);
  border: 1px solid var(--border-subtle);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,.1);
  transition: all var(--transition-speed) ease-in-out;
}
.card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,.2); }
.card-body h2.h5, .card-body h3.h6 {
  color: var(--primary-dark-blue);
  border-bottom: 2px solid var(--secondary-blue);
  padding-bottom: 8px;
  margin-bottom: 15px;
  font-weight: 700;
}
.card-body p:last-child, .content p:last-child, .content ul:last-child { margin-bottom: 0; }

/* =========================================================
   Índice
   - Estilo de la lista de navegación lateral con efecto hover.
   ========================================================= */
.toc a {
  color: var(--primary-dark-blue);
  padding: 8px 0;
  display: block;
  transition: all var(--transition-speed) ease;
  border-radius: 4px;
  text-decoration: none;
}
.toc a:hover, .toc a:focus-visible {
  color: #fff;
  background: var(--secondary-blue);
  padding-left: 10px;
  text-decoration: none;
  outline: none;
}

/* =========================================================
   FAQs (details/summary)
   - Apariencia de los bloques desplegables de preguntas frecuentes.
   ========================================================= */
.faq summary {
  background: #e3effa;
  color: var(--primary-dark-blue);
  border: 1px solid var(--secondary-blue);
  padding: 12px 15px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: background-color var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
}
.faq summary:hover, .faq summary:focus-visible {
  background: #c9e0f5;
  box-shadow: 0 2px 5px rgba(0,0,0,.1);
  outline: none;
}
.faq .content {
  background: #fff;
  border: 1px solid #ddd;
  border-top: none;
  border-radius: 0 0 6px 6px;
  padding: 15px;
}

/* =========================================================
   Botones y Links de Interés
   - Estilos para los botones primarios y chips de enlaces.
   ========================================================= */
.btn-primary, .chip .btn-primary {
  background: var(--secondary-blue);
  color: #fff;
  border-color: var(--secondary-blue);
  font-weight: 500;
  transition: all var(--transition-speed) ease;
}
.btn-primary:hover, .chip .btn-primary:hover {
  background: var(--primary-dark-blue);
  border-color: var(--primary-dark-blue);
  box-shadow: 0 4px 10px rgba(0,77,153,.4);
  transform: translateY(-2px);
}

/* =========================================================
   Redes Sociales
   - Configura el estilo, tamaño y disposición de los botones sociales.
   ========================================================= */
.btn-social {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 180px;
  height: 45px;
  border: none !important;
  border-radius: 6px;
  font-weight: 500;
  text-align: center;
  color: #fff !important;
  transition: all var(--transition-speed) ease;
  line-height: 1;
}
.btn-social i { font-size: 1.2rem; vertical-align: middle; line-height: 1; }
#redes .btn-social { margin: 0 8px 8px 0; }
#redes .btn-social:last-child { margin-right: 0; }

.btn-dark { background: #000 !important; }         /* X */
.btn-danger { background: #ff0000 !important; }    /* YouTube */
.instagram-btn {
  background: radial-gradient(circle at 30% 107%, #fdf497 0%, #fdd497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%) !important;
}
.linkedin-btn { background: #0077b5 !important; }
.linkedin-btn i { transform: scale(1.25); margin-top: 1px; }
#redes .d-grid { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }

/* Centrado de los botones sociales dentro del bloque “Redes oficiales” */
#redes .card-body { text-align: left; }
#redes .d-grid {
  display: flex !important;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}
#redes .btn-social {
  flex: 0 1 230px;
  justify-content: center;
}

/* Distribución simétrica tipo grid en 2 columnas (responsive) */
#redes .d-grid {
  display: grid !important;
  grid-template-columns: 1fr;      /* En móvil: una sola columna */
  gap: 12px;
  justify-items: stretch;
}

/* En pantallas medianas o mayores: 2 columnas centradas */
@media (min-width: 768px) {
  #redes .d-grid {
    grid-template-columns: repeat(2, minmax(240px, 1fr));
    max-width: 560px;
    margin-inline: auto;
  }
}

/* Normaliza tamaños y márgenes de botones sociales */
#redes .btn-social {
  width: 100%;
  height: 46px;
  margin-right: 0 !important;
  border-radius: 8px;
  justify-content: center;
}

/* =========================================================
   Footer
   - Pie institucional del sitio con estilo sobrio.
   ========================================================= */
footer {
  background: var(--background-dark);
  color: var(--text-light);
  padding: 25px 0;
  font-size: .9rem;
  border-top: 2px solid var(--secondary-blue);
}
footer a { color: #99ccff; }
footer a:hover { color: #fff; text-decoration: underline; }

/* =========================================================
   Offcanvas móvil
   - Estilos del panel lateral desplegable y su botón flotante.
   ========================================================= */
.offcanvas-header {
  background: var(--primary-dark-blue);
  color: #fff;
  border-bottom: 2px solid var(--secondary-blue);
}
.offcanvas-header .btn-close {
  filter: invert(1) grayscale(100%) brightness(200%);
}
.offcanvas-body { background: #fff; }
.offcanvas-body a { color: var(--primary-dark-blue); font-weight: 500; }

/* Botón flotante de acceso rápido al índice en pantallas móviles */
.floating-toc-btn {
  position: fixed;
  bottom: 20px;
  right: 20px;
  z-index: 1050;
  background: var(--secondary-blue);
  border-color: var(--secondary-blue);
  box-shadow: 0 4px 8px rgba(0,0,0,.4);
}
.floating-toc-btn:hover {
  background: var(--primary-dark-blue);
  border-color: var(--primary-dark-blue);
}

/* =========================================================
   NOTAS DESTACADAS
   - Caja de aviso o información importante dentro de las tarjetas.
   ========================================================= */
.note {
  background-color: rgba(255, 245, 157, 0.3); /* Amarillo suave */
  border-left: 4px solid #ffc107;             /* Borde lateral de acento */
  padding: 8px 12px;
  border-radius: 6px;
  display: block;
  font-size: 0.95rem;
}

/* =========================================================
   CONTACTOS ÚTILES - 2 columnas (md+), espaciado parejo
   ========================================================= */

/* Contenido del card un poco más compacto */
#contactos .card-body{ padding:16px 20px }

/* Usa flex del propio .row, pero controlando el gap y el ancho de las columnas */
@media (min-width: 768px){
  #contactos dl.row{
    display:flex;              /* mantiene Bootstrap, pero forzamos gap consistente */
    flex-wrap:wrap;
    gap:10px 28px;             /* fila, columna */
  }
  /* cada bloque ocupa media fila, restando el gap para que no salte de línea */
  #contactos dl.row > div{
    flex:0 0 calc(50% - 14px); /* 14px = la mitad del gap horizontal */
    max-width:calc(50% - 14px);
  }
}

/* En móvil, una sola columna con ritmo compacto */
@media (max-width: 767.98px){
  #contactos dl.row{ gap:10px 0 }
  #contactos dl.row > div{ width:100% }
}

/* Título + enlace con separación mínima y alturas uniformes */
#contactos dl.row > div{ margin-bottom:8px; line-height:1.35 }
#contactos dt{
  margin:0 0 2px 0;
  font-weight:600;
  color:var(--primary-dark-blue);
  white-space:nowrap;          /* evita que el título salte de línea */
}
#contactos dd{ margin:0 }
#contactos dd a{
  text-decoration:none;
  color:var(--secondary-blue);
  font-weight:500;
}
#contactos dd a:hover{
  text-decoration:underline;
  color:var(--primary-dark-blue);
}

/* Evita el “texto vertical” de emails largos sin cortar palabra por palabra */
#contactos dd, #contactos dd a{
  word-break:normal;
  overflow-wrap:break-word;    /* solo corta si realmente no entra */
  white-space:normal;
}

/* =========================================================
   OFFCANVAS (MÓVIL) - Índice y Links de Interés
   Problemas que corrige:
   1) En el índice móvil los enlaces aparecen subrayados.
   2) En “Links de Interés” (dentro del offcanvas) los botones pierden estilo.
   3) El botón flotante “Índice” se superpone al offcanvas abierto.
   ========================================================= */

/* 1) Índice móvil: quitar subrayado y mantener estilo limpio */
@media (max-width: 767.98px){
  #tocOffcanvas .offcanvas-body a{
    text-decoration: none;              /* sin subrayado por defecto */
    color: var(--primary-dark-blue);
    font-weight: 500;
  }
  #tocOffcanvas .offcanvas-body a:hover,
  #tocOffcanvas .offcanvas-body a:focus{
    text-decoration: underline;         /* feedback al interactuar */
    outline: none;
  }
}

/* 2) Links de Interés dentro del offcanvas:
      forzar apariencia de botón (colores, bordes, ancho) */
@media (max-width: 767.98px){
  #tocOffcanvas .offcanvas-body .btn,
  #tocOffcanvas .offcanvas-body a.btn,
  #tocOffcanvas .offcanvas-body .chip a.btn{
    display: block;
    width: 100%;
    background: var(--secondary-blue) !important;
    border-color: var(--secondary-blue) !important;
    color: #fff !important;
    border-radius: 10px;
    padding: 10px 14px;
    text-align: center;
    font-weight: 600;
  }
  #tocOffcanvas .offcanvas-body .btn:hover,
  #tocOffcanvas .offcanvas-body .btn:focus{
    background: var(--primary-dark-blue) !important;
    border-color: var(--primary-dark-blue) !important;
    text-decoration: none;
  }

  /* Espaciado vertical prolijo entre botones */
  #tocOffcanvas .offcanvas-body .row .col + .col,
  #tocOffcanvas .offcanvas-body .chip + .chip{
    margin-top: 10px;
  }
}

/* 3) Evitar superposición: ocultar el botón flotante cuando el offcanvas está abierto */
.offcanvas.show ~ .floating-toc-btn{
  display: none !important;
}

/* (opcional) Margen inferior extra dentro del offcanvas para evitar que
   el último botón quede pegado al borde inferior del panel */
@media (max-width: 767.98px){
  #tocOffcanvas .offcanvas-body{
    padding-bottom: 16px;
  }
}
